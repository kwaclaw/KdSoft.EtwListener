{
  "Logging": {
    "LogLevel": {
      "Default": "Error",
      "Microsoft.Hosting.Lifetime": "Information"
    },
    "RollingFile": {
      "LogLevel": {
        "Default": "Information",
        "Microsoft.Hosting.Lifetime": "Information"
      },
      "Directory": "Logs",
      "FileNameFormat": "etw-server-{0:yyyy-MM-dd}",
      "FileExtension": ".log",
      "UseLocalTime": false,
      "FileSizeLimitKB": 4096,
      "MaxFileCount": 11,
      "NewFileOnStartup": true,
      "BatchSize": 99,
      "MaxWriteDelayMSecs":  380
    }
  },
  "AllowedHosts": "*",
  // see https://docs.microsoft.com/en-us/aspnet/core/fundamentals/servers/kestrel?view=aspnetcore-3.1
  "Kestrel": {
    "EndpointDefaults": {
      "Protocols": "Http2"
    },
    "Endpoints": {
      //"Http": {
      //  "Url": "http://localhost:50051"
      //},
      "Https": {
        "Url": "https://*:50052",
        //"Certificate": {
        //  "Path": "D:\\PlayPen\\EtwListener\\localhost.p12",
        //  "Password": "XXXXXXXXXXXXX"
        //}
        "Certificate": { // will select the matching certificate with the latest expiry date
          "Subject": "localhost", // matches any Subject containing that string
          "Store": "My", // My = Personal store, seems like only stores indicated by the StoreName type are accepted
          "Location": "LocalMachine",
          "AllowInvalid": false //"<true or false; defaults to false, must be false for server certificates>"
        }
      }
    }
  },
  "ClientValidation": {
    "RootCertificateThumbprint": "d87dce532fb17cabd3804e77d7f344ec4e49c80f",
    "AuthorizedCommonNames": [
      "karl@waclawek.net"
    ]
  }
}